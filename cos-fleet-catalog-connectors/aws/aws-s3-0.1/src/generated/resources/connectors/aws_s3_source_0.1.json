{
  "channels" : {
    "stable" : {
      "shard_metadata" : {
        "connector_revision" : "12",
        "connector_type" : "source",
        "connector_image" : "quay.io/rhoas/cos-connector-aws-s3:0.1.12",
        "operators" : [ {
          "type" : "camel-connector-operator",
          "version" : "[1.0.0,2.0.0)"
        } ],
        "kamelets" : {
          "adapter" : {
            "name" : "aws-s3-source",
            "prefix" : "aws"
          },
          "kafka" : {
            "name" : "cos-kafka-sink",
            "prefix" : "kafka"
          },
          "processors" : {
            "throttle" : "throttle-action",
            "jsonpath_set" : "cos-jsonpath-set-action",
            "log" : "cos-log-action",
            "jsonpath_rename" : "cos-jsonpath-rename-action",
            "jsonpath_extract" : "cos-jsonpath-extract-action",
            "jsonpath_remove" : "cos-jsonpath-remove-action"
          }
        },
        "annotations" : {
          "trait.camel.apache.org/container.request-cpu" : "0.20",
          "trait.camel.apache.org/container.request-memory" : "128m",
          "trait.camel.apache.org/deployment.progress-deadline-seconds" : "30"
        },
        "consumes" : "application/octet-stream",
        "produces" : "application/octet-stream"
      }
    }
  },
  "connector_type" : {
    "id" : "aws_s3_source_0.1",
    "kind" : "ConnectorType",
    "icon_href" : "TODO",
    "name" : "AWS S3 Source",
    "description" : "AWS S3 Source",
    "version" : "0.1",
    "labels" : [ "source" ],
    "capabilities" : [ "data_shape", "error_handler", "processors" ],
    "channels" : [ "stable" ],
    "schema" : {
      "type" : "object",
      "additionalProperties" : false,
      "required" : [ "aws_bucket_name_or_arn", "aws_region", "kafka_topic" ],
      "properties" : {
        "aws_bucket_name_or_arn" : {
          "title" : "Bucket Name",
          "description" : "The S3 Bucket name or ARN",
          "type" : "string"
        },
        "aws_delete_after_read" : {
          "title" : "Auto-delete Objects",
          "description" : "Delete objects after consuming them",
          "type" : "boolean",
          "default" : true
        },
        "aws_access_key" : {
          "title" : "Access Key",
          "x-group" : "credentials",
          "oneOf" : [ {
            "title" : "Access Key",
            "description" : "The access key obtained from AWS",
            "type" : "string",
            "format" : "password"
          }, {
            "description" : "An opaque reference to the aws_access_key",
            "type" : "object",
            "properties" : { }
          } ]
        },
        "aws_secret_key" : {
          "title" : "Secret Key",
          "x-group" : "credentials",
          "oneOf" : [ {
            "title" : "Secret Key",
            "description" : "The secret key obtained from AWS",
            "type" : "string",
            "format" : "password"
          }, {
            "description" : "An opaque reference to the aws_secret_key",
            "type" : "object",
            "properties" : { }
          } ]
        },
        "aws_region" : {
          "title" : "AWS Region",
          "description" : "The AWS region to connect to",
          "type" : "string",
          "example" : "eu-west-1"
        },
        "aws_auto_create_bucket" : {
          "title" : "Autocreate Bucket",
          "description" : "Setting the autocreation of the S3 bucket bucketName.",
          "type" : "boolean",
          "default" : false
        },
        "aws_include_body" : {
          "title" : "Include Body",
          "description" : "If it is true, the exchange will be consumed and put into the body and closed. If false the S3Object stream will be put raw into the body and the headers will be set with the S3 object metadata.",
          "type" : "boolean",
          "default" : true
        },
        "aws_prefix" : {
          "title" : "Prefix",
          "description" : "The AWS S3 bucket prefix to consider while searching",
          "type" : "string",
          "example" : "folder/"
        },
        "aws_ignore_body" : {
          "title" : "Ignore Body",
          "description" : "If it is true, the S3 Object Body will be ignored completely, if it is set to false the S3 Object will be put in the body. Setting this to true, will override any behavior defined by includeBody option.",
          "type" : "boolean",
          "default" : false
        },
        "aws_use_default_credentials_provider" : {
          "title" : "Default Credentials Provider",
          "description" : "Set whether the S3 client should expect to load credentials through a default credentials provider or to expect static credentials to be passed in.",
          "type" : "boolean",
          "default" : false
        },
        "kafka_topic" : {
          "title" : "Topic Names",
          "description" : "Comma separated list of Kafka topic names",
          "type" : "string"
        },
        "processors" : {
          "type" : "array",
          "items" : {
            "oneOf" : [ {
              "type" : "object",
              "required" : [ "throttle" ],
              "properties" : {
                "throttle" : {
                  "$ref" : "#/$defs/processors/throttle"
                }
              }
            }, {
              "type" : "object",
              "required" : [ "log" ],
              "properties" : {
                "log" : {
                  "$ref" : "#/$defs/processors/log"
                }
              }
            }, {
              "type" : "object",
              "required" : [ "jsonpath_extract" ],
              "properties" : {
                "jsonpath_extract" : {
                  "$ref" : "#/$defs/processors/jsonpath_extract"
                }
              }
            }, {
              "type" : "object",
              "required" : [ "jsonpath_remove" ],
              "properties" : {
                "jsonpath_remove" : {
                  "$ref" : "#/$defs/processors/jsonpath_remove"
                }
              }
            }, {
              "type" : "object",
              "required" : [ "jsonpath_rename" ],
              "properties" : {
                "jsonpath_rename" : {
                  "$ref" : "#/$defs/processors/jsonpath_rename"
                }
              }
            }, {
              "type" : "object",
              "required" : [ "jsonpath_set" ],
              "properties" : {
                "jsonpath_set" : {
                  "$ref" : "#/$defs/processors/jsonpath_set"
                }
              }
            } ]
          }
        },
        "data_shape" : {
          "type" : "object",
          "additionalProperties" : false,
          "properties" : {
            "produces" : {
              "$ref" : "#/$defs/data_shape/produces"
            }
          }
        },
        "error_handler" : {
          "type" : "object",
          "oneOf" : [ {
            "type" : "object",
            "additionalProperties" : false,
            "required" : [ "dead_letter_queue" ],
            "properties" : {
              "dead_letter_queue" : {
                "$ref" : "#/$defs/error_handler/dead_letter_queue"
              }
            }
          }, {
            "type" : "object",
            "additionalProperties" : false,
            "required" : [ "log" ],
            "properties" : {
              "log" : {
                "$ref" : "#/$defs/error_handler/log"
              }
            }
          }, {
            "type" : "object",
            "additionalProperties" : false,
            "required" : [ "stop" ],
            "properties" : {
              "stop" : {
                "$ref" : "#/$defs/error_handler/stop"
              }
            }
          } ]
        }
      },
      "$defs" : {
        "processors" : {
          "throttle" : {
            "title" : "Throttle Action",
            "description" : "The Throttle action allows to ensure that a specific sink does not get overloaded.",
            "required" : [ "messages" ],
            "properties" : {
              "messages" : {
                "title" : "Messages Number",
                "description" : "The number of messages to send in the time period set",
                "type" : "integer",
                "example" : 10
              },
              "timePeriod" : {
                "title" : "Time Period",
                "description" : "Sets the time period during which the maximum request count is valid for, in milliseconds",
                "type" : "string",
                "default" : "1000"
              }
            },
            "type" : "object"
          },
          "log" : {
            "title" : "Log",
            "description" : "Log payload.",
            "type" : "object",
            "properties" : {
              "multiLine" : {
                "title" : "Multi Line",
                "description" : "Multi Line",
                "type" : "boolean",
                "default" : false,
                "x-descriptors" : [ "urn:camel:group:common" ]
              },
              "showProperties" : {
                "title" : "Show Properties",
                "description" : "Show Properties",
                "type" : "boolean",
                "default" : false,
                "x-descriptors" : [ "urn:camel:group:common" ]
              },
              "showHeaders" : {
                "title" : "Show Headers",
                "description" : "Show Headers",
                "type" : "boolean",
                "default" : false,
                "x-descriptors" : [ "urn:camel:group:common" ]
              }
            }
          },
          "jsonpath_extract" : {
            "title" : "Transform with JsonPath",
            "description" : "TBD",
            "type" : "object",
            "required" : [ "expression" ],
            "properties" : {
              "expression" : {
                "title" : "Expression",
                "description" : "Expression",
                "type" : "string"
              }
            },
            "x-metadata" : {
              "supported.content-type" : "application/x-struct"
            }
          },
          "jsonpath_remove" : {
            "title" : "Transform with JsonPath",
            "description" : "TBD",
            "type" : "object",
            "required" : [ "expression" ],
            "properties" : {
              "expression" : {
                "title" : "Expression",
                "description" : "Expression",
                "type" : "string"
              }
            },
            "x-metadata" : {
              "supported.content-type" : "application/x-struct"
            }
          },
          "jsonpath_rename" : {
            "title" : "Transform with JsonPath",
            "description" : "TBD",
            "type" : "object",
            "required" : [ "expression" ],
            "properties" : {
              "expression" : {
                "title" : "Expression",
                "description" : "Expression",
                "type" : "string"
              },
              "key" : {
                "title" : "Key",
                "description" : "Key",
                "type" : "string"
              },
              "newKey" : {
                "title" : "NewKey",
                "description" : "NewKey",
                "type" : "string"
              }
            },
            "x-metadata" : {
              "supported.content-type" : "application/x-struct"
            }
          },
          "jsonpath_set" : {
            "title" : "Transform with JsonPath",
            "description" : "TBD",
            "type" : "object",
            "required" : [ "expression" ],
            "properties" : {
              "expression" : {
                "title" : "Expression",
                "description" : "Expression",
                "type" : "string"
              },
              "key" : {
                "title" : "Key",
                "description" : "Key",
                "type" : "string"
              },
              "value" : {
                "title" : "Value",
                "description" : "Value",
                "type" : "string"
              }
            },
            "x-metadata" : {
              "supported.content-type" : "application/x-struct"
            }
          }
        },
        "data_shape" : {
          "produces" : {
            "type" : "object",
            "additionalProperties" : false,
            "required" : [ "format" ],
            "properties" : {
              "format" : {
                "type" : "string",
                "default" : "application/octet-stream",
                "enum" : [ "application/octet-stream" ]
              }
            }
          }
        },
        "error_handler" : {
          "dead_letter_queue" : {
            "type" : "object",
            "additionalProperties" : false,
            "required" : [ "topic" ],
            "properties" : {
              "topic" : {
                "type" : "string",
                "title" : "Dead Letter Topic Name",
                "description" : "The name of the Kafka topic used as dead letter queue"
              }
            }
          },
          "log" : {
            "type" : "object",
            "additionalProperties" : false
          },
          "stop" : {
            "type" : "object",
            "additionalProperties" : false
          }
        }
      }
    }
  }
}